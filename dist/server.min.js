"use strict";var express=require("express"),session=require("express-session"),flash=require("connect-flash"),path=require("path"),app=express(),port=3e3,_require=require("./models"),sequelize=_require.sequelize,userRoutes=require("./routes/userRoutes"),pengajuanRoutes=require("./routes/pengajuanRoutes"),approvalRoutes=require("./routes/approvalRoutes"),skRoutes=require("./routes/skRoutes");app.set("view engine","ejs"),app.set("views",path.join(__dirname,"views")),app.use(express.static(path.join(__dirname,"public"))),app.use(express.json()),app.use(express.urlencoded({extended:!0})),app.use("/uploads",express.static("uploads")),app.use(session({secret:"secret-key",resave:!1,saveUninitialized:!0,cookie:{secure:!1}})),app.use(flash()),app.use(function(e,s,r){s.locals.success_msg=e.flash("success_msg"),s.locals.error_msg=e.flash("error_msg"),r()}),app.get("/",function(e,s){s.render("auth/login")}),app.use("/",userRoutes),app.use("/",pengajuanRoutes),app.use("/",approvalRoutes),app.use("/",skRoutes),sequelize.sync({force:!1}).then(function(){console.log("Database synced")}).catch(function(e){console.error("Failed to sync database:",e)}),app.listen(port,function(){console.log("Server is running at http://localhost:".concat(port))});
//# sourceMappingURL=server.min.js.map
