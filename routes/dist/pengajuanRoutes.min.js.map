{"version":3,"sources":["pengajuanRoutes.js"],"names":["express","require","router","Router","pengajuanController","cekRole","storage","multer","diskStorage","destination","cb","filename","req","file","now","originalname","upload","get","ensureAuthenticated","showRegisBss","showStatus","showRiwayat","showPanduan","post","single","createPermohonanBss","showRiwayatMhs"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,OAAUC,QAAQ,UAGlBG,oBAAsBH,QAAQ,sCAF9BC,oBAASD,QAAf,iCAIMI,QAAUJ,QAAQ,0BAElBK,QAAUC,OAAOC,YAAY,CAJnCC,YAAML,SAAAA,EAAAA,EAAsBH,GAMxBS,EAAG,KAAM,aAEXC,SAAU,SAACC,EAAKC,EAAMH,GANlBL,EAAAA,KAAAA,GAAAA,OAAUJ,KAAOa,MAAjBT,KAAAA,OAAkBQ,EAAAE,kBAIlBC,OAAOT,OAAA,CAATD,QAAAA,UACDJ,OAHgCe,IAAA,kBAAAZ,QAAAa,oBAAAd,oBAAAe,cAIjCR,OAAAA,IAAQ,UAAEN,QAACO,oBAAkBR,oBAAAgB,YAC3BV,OAAGO,IAAD,oBAAUZ,QAAVa,oBAA6BH,oBAA/BM,aACDnB,OAAAe,IAAA,WAAAZ,QAAAa,oBAAAd,oBAAAkB,aANgCpB,OAAnCqB,KAAA,kBAAAP,OAAAQ,OAAA,qBAAApB,oBAAAqB,qBASAvB,OAAMc,IAAM,cAAUX,QAAAa,oBAAAd,oBAAAsB,gBAAEpB,OAAAA,QAAAA","file":"pengajuanRoutes.min.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst multer = require('multer');\r\nconst pengajuanController = require('../controllers/pengajuanController');\r\nconst ensureAuthenticated = require('../middlewares/authMiddleware');\r\nconst cekRole = require('../middlewares/cekRole');\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: (req, file, cb) => {\r\n    cb(null, 'uploads/');  \r\n  },\r\n  filename: (req, file, cb) => {\r\n    cb(null, `${Date.now()}-${file.originalname}`);\r\n  }\r\n});\r\n\r\nconst upload = multer({ storage });\r\nrouter.get('/pendaftaranBss', cekRole,ensureAuthenticated,pengajuanController.showRegisBss);\r\nrouter.get('/status', cekRole,ensureAuthenticated,pengajuanController.showStatus);\r\nrouter.get('/riwayatpengajuan', cekRole,ensureAuthenticated,pengajuanController.showRiwayat);\r\nrouter.get('/panduan', cekRole,ensureAuthenticated,pengajuanController.showPanduan);\r\nrouter.post('/pendaftaranBss', upload.single('dokumen_pendukung'), pengajuanController.createPermohonanBss);\r\nrouter.get('/riwayatMhs', cekRole,ensureAuthenticated,pengajuanController.showRiwayatMhs);\r\nmodule.exports = router;\r\n"]}