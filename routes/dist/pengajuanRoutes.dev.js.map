{"version":3,"sources":["pengajuanRoutes.js"],"names":["express","require","router","Router","multer","pengajuanController","ensureAuthenticated","cekRole","storage","diskStorage","destination","req","file","cb","filename","Date","now","originalname","upload","get","showRegisBss","showStatus","showRiwayat","showPanduan","post","single","createPermohonanBss","showRiwayatMhs","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,MAAM,GAAGH,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMI,mBAAmB,GAAGJ,OAAO,CAAC,oCAAD,CAAnC;;AACA,IAAMK,mBAAmB,GAAGL,OAAO,CAAC,+BAAD,CAAnC;;AACA,IAAMM,OAAO,GAAGN,OAAO,CAAC,wBAAD,CAAvB;;AAEA,IAAMO,OAAO,GAAGJ,MAAM,CAACK,WAAP,CAAmB;AACjCC,EAAAA,WAAW,EAAE,qBAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AAC9BA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;AAIjCC,EAAAA,QAAQ,EAAE,kBAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AAC3BA,IAAAA,EAAE,CAAC,IAAD,YAAUE,IAAI,CAACC,GAAL,EAAV,cAAwBJ,IAAI,CAACK,YAA7B,EAAF;AACD;AANgC,CAAnB,CAAhB;AASA,IAAMC,MAAM,GAAGd,MAAM,CAAC;AAAEI,EAAAA,OAAO,EAAPA;AAAF,CAAD,CAArB;AACAN,MAAM,CAACiB,GAAP,CAAW,iBAAX,EAA8BZ,OAA9B,EAAsCD,mBAAtC,EAA0DD,mBAAmB,CAACe,YAA9E;AACAlB,MAAM,CAACiB,GAAP,CAAW,SAAX,EAAsBZ,OAAtB,EAA8BD,mBAA9B,EAAkDD,mBAAmB,CAACgB,UAAtE;AACAnB,MAAM,CAACiB,GAAP,CAAW,mBAAX,EAAgCZ,OAAhC,EAAwCD,mBAAxC,EAA4DD,mBAAmB,CAACiB,WAAhF;AACApB,MAAM,CAACiB,GAAP,CAAW,UAAX,EAAuBZ,OAAvB,EAA+BD,mBAA/B,EAAmDD,mBAAmB,CAACkB,WAAvE;AACArB,MAAM,CAACsB,IAAP,CAAY,iBAAZ,EAA+BN,MAAM,CAACO,MAAP,CAAc,mBAAd,CAA/B,EAAmEpB,mBAAmB,CAACqB,mBAAvF;AACAxB,MAAM,CAACiB,GAAP,CAAW,aAAX,EAA0BZ,OAA1B,EAAkCD,mBAAlC,EAAsDD,mBAAmB,CAACsB,cAA1E;AACAC,MAAM,CAACC,OAAP,GAAiB3B,MAAjB","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst multer = require('multer');\r\nconst pengajuanController = require('../controllers/pengajuanController');\r\nconst ensureAuthenticated = require('../middlewares/authMiddleware');\r\nconst cekRole = require('../middlewares/cekRole');\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: (req, file, cb) => {\r\n    cb(null, 'uploads/');  \r\n  },\r\n  filename: (req, file, cb) => {\r\n    cb(null, `${Date.now()}-${file.originalname}`);\r\n  }\r\n});\r\n\r\nconst upload = multer({ storage });\r\nrouter.get('/pendaftaranBss', cekRole,ensureAuthenticated,pengajuanController.showRegisBss);\r\nrouter.get('/status', cekRole,ensureAuthenticated,pengajuanController.showStatus);\r\nrouter.get('/riwayatpengajuan', cekRole,ensureAuthenticated,pengajuanController.showRiwayat);\r\nrouter.get('/panduan', cekRole,ensureAuthenticated,pengajuanController.showPanduan);\r\nrouter.post('/pendaftaranBss', upload.single('dokumen_pendukung'), pengajuanController.createPermohonanBss);\r\nrouter.get('/riwayatMhs', cekRole,ensureAuthenticated,pengajuanController.showRiwayatMhs);\r\nmodule.exports = router;\r\n"],"file":"pengajuanRoutes.dev.js"}