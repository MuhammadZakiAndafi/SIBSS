"use strict";var db=require("../models");exports.showSk=function(r,n){var t,s,u,a,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.session.user.id,s=r.session.user,u=s.role,e.next=6,regeneratorRuntime.awrap(db.Pengajuan.findOne({where:{userId:t}}));case 6:return a=e.sent,e.next=9,regeneratorRuntime.awrap(db.SuratKeputusan.findAll({where:{pengajuanId:a.id},include:[{model:db.Pengajuan}]}));case 9:o=e.sent,n.render("user/suratkeputusan",{sks:o,title:"Surat Keputusan",userRole:u}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching surat keputusan:",e.t0),n.status(500).send("Internal Server Error");case 17:case"end":return e.stop()}},null,null,[[0,13]])};
//# sourceMappingURL=skController.min.js.map
